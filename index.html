<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="css/style.css">
    <title>App de criptografia</title>
</head>

<body>
    <main>
        <ul class="blocos">
            <li>
                <input type="text" id="texto" placeholder="Digite seu texto">
                <p class="aviso"> &#9888; Letras maiúsculas e caracteres especiais não serão digitaveis.</p>
                <div id="botoes"><button id="botao_criptografar">Criptografar</button>
                    <button id="botao_descriptografar">Descriptografar</button>
                </div>
            </li>
            <li id="retangulo">
                <textarea name="" id="saida" cols="30" rows="10"></textarea><br>
                <p>Escolha a opção e veja mensagem acima</p><br><br>
                <button id="copiar">Copiar</button>


            </li>
        </ul>

    </main>


    <script>
        var entrada = document.getElementById("texto");
        var saida = document.getElementById("saida");
        var copiar = document.getElementById("copiar");
        var botao_crip = document.getElementById("botao_criptografar");
        var botao_descrip = document.getElementById("botao_descriptografar")
        entrada.focus();
        entrada.addEventListener("keypress", function (e) {
            if (!validachar(e)) {
                e.preventDefault();

            }

        })
        function validachar(e) {
            const char = String.fromCharCode(e.keyCode);
            const padrao = '[a-z]';
            if (char.match(padrao) || e.keyCode == 32) {
                return true

            }

        }



        botao_crip.onclick = function criptografar() {
            var s_entrada = String(entrada.value);
            saida.value = "";
            for (let index = 0; index < s_entrada.length; index++) {
                if (s_entrada[index] == "a") {
                    saida.value += "ai"

                } else if (s_entrada[index] == "e") {
                    saida.value += "enter"

                } else if (s_entrada[index] == "i") {
                    saida.value += "imes"

                } else if (s_entrada[index] == "o") {
                    saida.value += "ober"

                } else if (s_entrada[index] == "u") {
                    saida.value += "ufat"

                } else {
                    saida.value += s_entrada[index];
                }




            }
        }
        botao_descrip.onclick = function descriptografar() {
            var s_entrada = String(entrada.value);
            saida.value = "";
            for (let index = 0; index < s_entrada.length; index++) {
                if (s_entrada[index] == "a") {
                    saida.value += "a";
                    index += 1;

                } else if (s_entrada[index] == "e") {
                    saida.value += "e";
                    index += 4;

                } else if (s_entrada[index] == "i") {
                    saida.value += "i";
                    index += 3;

                } else if (s_entrada[index] == "o") {
                    saida.value += "o";
                    index += 3;
                }
                else if (s_entrada[index] == "u") {
                    saida.value += "u";
                    index += 3;
                } else {
                    saida.value += s_entrada[index];

                }


            }



        }
        copiar.onclick = function copia() {
            /*saida.select();
            document.execCommand("copy");*/
            navigator.clipboard.writeText(saida.value);


        }


    </script>
</body>

</html>
